# Copyright (C) 2024 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

include:
  - ../../../third_parties/tgi/deployment/docker_compose/compose.yaml

services:
  text2graph:
    image: opea/text2graph:${TAG:-latest}
    container_name: text2graph-server
    ports:
      - ${TEXT2GRAPH_PORT:-9090}:8080
    environment:
      - TGI_LLM_ENDPOINT=${TGI_LLM_ENDPOINT}
    depends_on:
      - tgi-server

  text2graph-gaudi:
    image: opea/text2graph:${TAG:-latest}
    container_name: text2graph-gaudi-server
    ports:
      - ${TEXT2GRAPH_PORT:-9090}:8080
    environment:
      - TGI_LLM_ENDPOINT=${TGI_LLM_ENDPOINT}
    depends_on:
      - tgi-gaudi-server
networks:
  default:
    driver: bridge
